import React, { useEffect, useState } from "react";
import "./asiaMiles.scss";
import ccIcon from "../../../preApproval/images/Tier-0-front.png";
import ccIcon1 from "../../../preApproval/images/Tier-1-front.png";
import ccIcon2 from "../../../preApproval/images/Tier-2-front.png";
import { asiaMilesJson } from "../../../../services/common-service";


const cardData = [
  {
    t: "t0",
    title: "Standard Chartered Cathay Mastercard",
    description: [
      "1. Enjoy up to 60,000 Asia Miles Welcome Offer",
      "2. HKD4 = 1 Asia Mile for eligible spending on dining, hotels, and overseas category",
      "3. First Year Annual Fee Waiver",
    ],
    image: ccIcon,
  },
  {
    t:'t1',
    title: "Standard Chartered Cathay Mastercard – Priority Banking",
    description: [
      "1. Enjoy up to 80,000 Asia Miles Welcome Offer",
      "2. HKD3 = 1 Asia Mile for eligible spending on overseas category",
      "3. HKD4 = 1 Asia Mile for eligible spending on dining and hotels category",
      "4. Annual fee waiver for Qualified Priority Banking clients",
    ],
    image: ccIcon1,
  },
  {
    t: 't3',
    title: "Standard Chartered Cathay Mastercard – Priority Private",
    description: [
      "1. Enjoy up to 100,000 Asia Miles Welcome Offer",
      "2. HKD2 = 1 Asia Mile for eligible spending on overseas category",   //A01 not there
      "3. HKD4 = 1 Asia Mile for eligible spending on dining and hotels category",
      "4. Annual fee waiver for Qualified Priority Private clients", //all
    ],
    image: ccIcon2,
  },
];

const AsiaMiles: React.FC = () => {
  const [selectedCard, setSelectedCard] = useState<number | null>(null);

  useEffect(() => {
    asiaMilesJson();
  }, []);

  const handleSelectCard = (id: any) => {
    setSelectedCard(id);
  };

  return (
    <>
      <div className="header-container">
        <header className="header">
          <div className="column01">
            <div className="col-sm">
              <p id="applyingfor">You are applying for</p>
              <h3 id="header">Standard Chartered Cathay Mastercard</h3>
            </div>
            <div className="column2">
              <hr />
              <p className="credit">
                To apply for Standard Chartered credit card, you need to be 18+
                years old, and a Hong Kong resident
              </p>
            </div>
          </div>
        </header>
      </div>
      <div className="col-smtr">
        <p className="select-maincard">Please select one type of credit card</p>
      </div>
      <div className="credit-card-selector">
        <div className="cards-container">
          {cardData.map((card) => (
            <div
              key={card.t}
              className={`card ${selectedCard === card.t ? "selected" : ""}`}
              onClick={() => handleSelectCard(card.t)}
            >
              <div className="main-image">
                <img src={card.image} alt={card.title} className="card-image" />
              </div>
              <div className="card-content">
                <ul>
                  <h3 className="card-content-title">{card.title}</h3>
                  {card.description.map((item, index) => (
                    <li key={index} className="card-content-text">
                      {item}
                    </li>
                  ))}
                </ul>
                <div className="button-container">
                  {selectedCard === card.id ? (
                    <div className="selected-label">
                      <span className="tick">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="#007bff"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <polyline points="20 6 9 17 4 12" />
                        </svg>
                      </span>{" "}
                      SELECTED
                    </div>
                  ) : (
                    <button className="select-button">Select</button>
                  )}
                </div>
              </div>
            </div>
          ))}
        </div>

        <p className="footermsg">
          Your Integrated Deposit Account and Banking Plan application would be
          handled in the process as well&nbsp;(if applicable)
        </p>
        <button
          className="continue-button"
          disabled={selectedCard === null}
          onClick={() => alert(`Card ${selectedCard} selected!`)}
        >
          OK, NEXT
        </button>
      </div>
    </>
  );

};

export default AsiaMiles;
