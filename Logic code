if (['res_room_flat', 'res_floor', 'res_block'].includes(props?.data?.logical_field_name)) {
  const relatedFields = ['res_room_flat', 'res_floor', 'res_block'];

  // Check if at least one of the related fields is filled
  const isAnyFieldFilled = relatedFields.some(field =>
    field !== props?.data?.logical_field_name && props?.formValues?.[field]?.length > 0
  );

  // Show error only if all related fields are empty and the current field is cleared
  if (!isAnyFieldFilled && event.target.value.length === 0) {
    setError(errorMsg.roomRequired);
  } else {
    setError('');
  }

  // Once one of the related fields is filled, clear the errors for the other fields
  if (event.target.value.length > 0) {
    relatedFields.forEach(field => {
      if (field !== props?.data?.logical_field_name) {
        props.clearError(field); // Example function to clear error for a specific field
      }
    });
  }

  // Update the field value
  props.handleCallback(props.data, event.target.value);
  dispatch(isFieldValueUpdate(props, stageSelector, event.target.value));
  dispatch(isFieldUpdate(props, event.target.value, fieldName));
  return;
}




if (
  fieldName === 'res_room_flat' ||
  fieldName === 'res_floor' ||
  fieldName === 'res_block'
) {
  // Get the values of all three fields
  const roomFlatValue = document.querySelector('[name="res_room_flat"]')?.value || '';
  const floorValue = document.querySelector('[name="res_floor"]')?.value || '';
  const blockValue = document.querySelector('[name="res_block"]')?.value || '';

  // Check if all fields are empty
  const isAllFieldsEmpty = !roomFlatValue && !floorValue && !blockValue;

  // Check if the current field being updated is empty
  const isCurrentFieldEmpty = event.target.value.length === 0;

  if (isAllFieldsEmpty && isCurrentFieldEmpty) {
    // If all fields are empty, show error on logical_field_name
    setError(`${errorMsg.roomRequired}`);
  } else if (isCurrentFieldEmpty && (!roomFlatValue || !floorValue || !blockValue)) {
    // If the current field is cleared but at least one field is filled, clear the error
    setError('');
  } else {
    // If the current field has a value, clear the error
    setError('');
  }

  // If at least one field is filled, no errors should appear for the other fields
  if (roomFlatValue || floorValue || blockValue) {
    setError('');
  }
}
