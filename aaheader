const downloadFile = async (fileUrl: string, fileName: string) => {
  try {
    // Use proxy to bypass CORS
    const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
    const response = await fetch(proxyUrl + fileUrl, {
      method: 'GET',
    });

    if (!response.ok) {
      throw new Error(`Error downloading file: ${response.statusText}`);
    }

    // Convert response to blob
    const blob = await response.blob();

    // Create a link to download the file
    const downloadLink = document.createElement('a');
    const url = window.URL.createObjectURL(blob);
    downloadLink.href = url;
    downloadLink.download = fileName;
    document.body.appendChild(downloadLink);
    downloadLink.click();

    // Cleanup
    window.URL.revokeObjectURL(url);
    document.body.removeChild(downloadLink);
  } catch (error) {
    console.error('Error downloading file:', error);
  }
};
